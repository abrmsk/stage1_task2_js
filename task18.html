<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>2.1.18</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<nav>
    <a href="index.html">back</a>
    <ul class="navigate_tasks">
        <li><a href="task01_02.html">Tasks 1, 2</a></li>
        <li><a href="task03.html">Tasks 3</a></li>
        <li><a href="task04.html">Tasks 4</a></li>
        <li><a href="task05.html">Tasks 5</a></li>
        <li><a href="task06.html">Tasks 6</a></li>
        <li><a href="task07.html">Tasks 7</a></li>
        <li><a href="task08.html">Tasks 8</a></li>
        <li><a href="task09.html">Tasks 9</a></li>
        <li><a href="task10_11_12.html">Tasks 10, 11, 12</a></li>
        <li><a href="task13.html">Tasks 13</a></li>
        <li><a href="task14.html">Tasks 14</a></li>
        <li><a href="task15.html">Tasks 15</a></li>
        <li><a href="task16.html">Tasks 16</a></li>
        <li><a href="task17.html">Tasks 17</a></li>
        <li class="active"><a href="task18.html">Tasks 18</a></li>
        <li><a href="task19.html">Tasks 19</a></li>
    </ul>
</nav>

<section class="main task2118_container">
    <div class="wrapper">
        <h2 class="assignment">Task 2.1.18</h2>
        <div class="task2118">

            <form action="#" name="file_upload" class="">
                <label id="label_upload_files">
                    <div class="mask">
                        <input class="custom-file-input" type="file" name="fname" multiple="multiple">
                    </div>

                </label>
            </form>
        </div>

        <ul class="list" id="list"></ul>
    </div>
</section>

<script>
    const label = document.getElementById('label_upload_files');
    const mask = document.querySelector('.mask');

    label.addEventListener('dragenter', (e) => {
        e.preventDefault();
        e.stopPropagation();
        mask.classList.add('drag_enter');
    });

    label.addEventListener('dragleave', (e) => {
        e.preventDefault();
        e.stopPropagation();
        mask.classList.remove('drag_enter');
    });

    label.addEventListener('drop', (e) => {
        e.preventDefault();
        e.stopPropagation();
        mask.classList.remove('drag_enter');
        mask.classList.add('drop_files');
        showUploadedFiles(e.dataTransfer.files);
    });

    label.addEventListener('change', (e) => {
        e.preventDefault();
        e.stopPropagation();
        mask.classList.remove('drag_enter');
        mask.classList.add('drop_files');
        showUploadedFiles(e.target.files);
    });

    function showUploadedFiles(files) {

        // File list in queue
        for (let file of files) {
            let elem = document.createElement('LI')
            let elemSpan = document.createElement('SPAN')
            elemSpan.appendChild(document.createTextNode(`(size: ${file.size} bytes)`))
            elem.appendChild(document.createTextNode(`${file.name}, `));
            elem.appendChild(elemSpan);
            document.getElementById('list').appendChild(elem);
        }
    }


</script>
</body>
</html>